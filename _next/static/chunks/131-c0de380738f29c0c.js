"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{6932:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7709:(e,r,t)=>{t.d(r,{$f:()=>g,Fg:()=>i,Ho:()=>d,O6:()=>b,XA:()=>s});let a={course:{background:"bg-blue-700",backgroundLight:"bg-blue-200",border:"border-l-blue-700",borderLight:"border-l-blue-500",text:"text-blue-700",ring:"ring-blue-500"},practical:{background:"bg-emerald-700",backgroundLight:"bg-emerald-200",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"},exam:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},project:{background:"bg-teal-700",backgroundLight:"bg-teal-200",border:"border-l-teal-700",borderLight:"border-l-teal-500",text:"text-teal-700",ring:"ring-teal-500"},sport:{background:"bg-indigo-700",backgroundLight:"bg-indigo-200",border:"border-l-indigo-700",borderLight:"border-l-indigo-500",text:"text-indigo-700",ring:"ring-indigo-500"},study:{background:"bg-purple-700",backgroundLight:"bg-purple-200",border:"border-l-purple-700",borderLight:"border-l-purple-500",text:"text-purple-700",ring:"ring-purple-500"}},o={high:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},medium:{background:"bg-orange-600",backgroundLight:"bg-orange-100",border:"border-l-orange-600",borderLight:"border-l-orange-400",text:"text-orange-600",ring:"ring-orange-400"},low:{background:"bg-emerald-700",backgroundLight:"bg-emerald-200",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"}},n={Mathématiques:{background:"bg-blue-700",backgroundLight:"bg-blue-100",border:"border-l-blue-700",borderLight:"border-l-blue-500",text:"text-blue-700",ring:"ring-blue-500"},"Physique-Chimie":{background:"bg-indigo-700",backgroundLight:"bg-indigo-100",border:"border-l-indigo-700",borderLight:"border-l-indigo-500",text:"text-indigo-700",ring:"ring-indigo-500"},SVT:{background:"bg-emerald-700",backgroundLight:"bg-emerald-100",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"},Sciences:{background:"bg-teal-700",backgroundLight:"bg-teal-100",border:"border-l-teal-700",borderLight:"border-l-teal-500",text:"text-teal-700",ring:"ring-teal-500"},Français:{background:"bg-purple-700",backgroundLight:"bg-purple-100",border:"border-l-purple-700",borderLight:"border-l-purple-500",text:"text-purple-700",ring:"ring-purple-500"},Anglais:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},Espagnol:{background:"bg-red-600",backgroundLight:"bg-red-100",border:"border-l-red-600",borderLight:"border-l-red-400",text:"text-red-600",ring:"ring-red-400"},Allemand:{background:"bg-slate-700",backgroundLight:"bg-slate-100",border:"border-l-slate-700",borderLight:"border-l-slate-500",text:"text-slate-700",ring:"ring-slate-500"},"Histoire-G\xe9ographie":{background:"bg-amber-700",backgroundLight:"bg-amber-100",border:"border-l-amber-700",borderLight:"border-l-amber-500",text:"text-amber-700",ring:"ring-amber-500"},Histoire:{background:"bg-yellow-700",backgroundLight:"bg-yellow-100",border:"border-l-yellow-700",borderLight:"border-l-yellow-500",text:"text-yellow-700",ring:"ring-yellow-500"},Géographie:{background:"bg-lime-700",backgroundLight:"bg-lime-100",border:"border-l-lime-700",borderLight:"border-l-lime-500",text:"text-lime-700",ring:"ring-lime-500"},Philosophie:{background:"bg-violet-700",backgroundLight:"bg-violet-100",border:"border-l-violet-700",borderLight:"border-l-violet-500",text:"text-violet-700",ring:"ring-violet-500"},EPS:{background:"bg-green-700",backgroundLight:"bg-green-100",border:"border-l-green-700",borderLight:"border-l-green-500",text:"text-green-700",ring:"ring-green-500"},"Arts plastiques":{background:"bg-pink-600",backgroundLight:"bg-pink-100",border:"border-l-pink-600",borderLight:"border-l-pink-400",text:"text-pink-600",ring:"ring-pink-400"},Musique:{background:"bg-fuchsia-600",backgroundLight:"bg-fuchsia-100",border:"border-l-fuchsia-600",borderLight:"border-l-fuchsia-400",text:"text-fuchsia-600",ring:"ring-fuchsia-400"},Technologie:{background:"bg-gray-700",backgroundLight:"bg-gray-100",border:"border-l-gray-700",borderLight:"border-l-gray-500",text:"text-gray-700",ring:"ring-gray-500"},Économie:{background:"bg-cyan-700",backgroundLight:"bg-cyan-100",border:"border-l-cyan-700",borderLight:"border-l-cyan-500",text:"text-cyan-700",ring:"ring-cyan-500"},Informatique:{background:"bg-sky-700",backgroundLight:"bg-sky-100",border:"border-l-sky-700",borderLight:"border-l-sky-500",text:"text-sky-700",ring:"ring-sky-500"}},i=e=>a[e]||a.course,d=e=>o[e]||o.medium,g=e=>n[e]||a.course,b=(e,r,t)=>"assignment"===e&&r?d(r):"exam"===e?i(e):("course"===e||"practical"===e)&&t?g(t):i(e),s=e=>i(e).background},8061:(e,r,t)=>{t.d(r,{K:()=>o});var a=t(2115);function o(e){let[r,t]=(0,a.useState)([]),[o,n]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[g,b]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),p=(0,a.useCallback)(async()=>{if(e)try{d(!0),m(null);let[r,a]=await Promise.all([fetch("/api/events?userId=".concat(e)),fetch("/api/assignments?userId=".concat(e))]),o=await r.json(),i=await a.json();if(o.success){let e=o.events.map(e=>({...e,startTime:new Date(e.startTime),endTime:new Date(e.endTime),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));n(e)}if(i.success){let e=i.assignments.map(e=>({...e,dueDate:new Date(e.dueDate),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));t(e)}l(!0)}catch(e){m(e instanceof Error?e.message:"Erreur lors du chargement des donn\xe9es"),l(!1)}finally{d(!1)}},[e]),k=(0,a.useCallback)(async()=>{if(!g)try{b(!0),m(null),await new Promise(e=>setTimeout(e,1e3)),u(new Date),l(!0),console.log("✅ Synchronisation simul\xe9e r\xe9ussie")}catch(e){m(e instanceof Error?e.message:"Erreur de synchronisation"),l(!1)}finally{b(!1)}},[g]),y=(0,a.useCallback)(async r=>{if(e)try{var a;let o=await fetch("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,userId:e,dueDate:null==(a=r.dueDate)?void 0:a.toISOString()})}),n=await o.json();if(n.success){let e={...n.assignment,dueDate:new Date(n.assignment.dueDate),createdAt:new Date(n.assignment.createdAt),updatedAt:new Date(n.assignment.updatedAt)};t(r=>[...r,e]),console.log("\uD83D\uDCDD Nouveau devoir cr\xe9\xe9:",e.title)}else throw Error(n.error)}catch(e){m(e instanceof Error?e.message:"Erreur cr\xe9ation devoir")}},[e]),x=(0,a.useCallback)(async e=>{try{let r=await fetch("/api/assignments/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,dueDate:e.dueDate.toISOString()})}),a=await r.json();if(a.success){let r={...a.assignment,dueDate:new Date(a.assignment.dueDate),createdAt:new Date(a.assignment.createdAt),updatedAt:new Date(a.assignment.updatedAt)};t(t=>t.map(t=>t.id===e.id?r:t)),console.log("✏️ Devoir mis \xe0 jour:",e.title)}else throw Error(a.error)}catch(e){m(e instanceof Error?e.message:"Erreur mise \xe0 jour devoir")}},[]),w=(0,a.useCallback)(async e=>{try{let r=await fetch("/api/assignments/".concat(e),{method:"DELETE"}),a=await r.json();if(a.success)t(r=>r.filter(r=>r.id!==e)),console.log("\uD83D\uDDD1️ Devoir supprim\xe9");else throw Error(a.error)}catch(e){m(e instanceof Error?e.message:"Erreur suppression devoir")}},[]),L=(0,a.useCallback)(async r=>{if(e)try{var t,a;let o=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,userId:e,startTime:null==(t=r.startTime)?void 0:t.toISOString(),endTime:null==(a=r.endTime)?void 0:a.toISOString()})}),i=await o.json();if(i.success){let e={...i.event,startTime:new Date(i.event.startTime),endTime:new Date(i.event.endTime),createdAt:new Date(i.event.createdAt),updatedAt:new Date(i.event.updatedAt)};n(r=>[...r,e]),console.log("\uD83D\uDCC5 Nouvel \xe9v\xe9nement cr\xe9\xe9:",e.title)}else throw Error(i.error)}catch(e){m(e instanceof Error?e.message:"Erreur cr\xe9ation \xe9v\xe9nement")}},[e]),f=(0,a.useCallback)(async e=>{try{let r=await fetch("/api/events/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,startTime:e.startTime.toISOString(),endTime:e.endTime.toISOString()})}),t=await r.json();if(t.success){let r={...t.event,startTime:new Date(t.event.startTime),endTime:new Date(t.event.endTime),createdAt:new Date(t.event.createdAt),updatedAt:new Date(t.event.updatedAt)};n(t=>t.map(t=>t.id===e.id?r:t)),console.log("\uD83D\uDCDD \xc9v\xe9nement mis \xe0 jour:",e.title)}else throw Error(t.error)}catch(e){m(e instanceof Error?e.message:"Erreur mise \xe0 jour \xe9v\xe9nement")}},[]),v=(0,a.useCallback)(async e=>{try{let r=await fetch("/api/events/".concat(e),{method:"DELETE"}),t=await r.json();if(t.success)n(r=>r.filter(r=>r.id!==e)),console.log("\uD83D\uDDD1️ \xc9v\xe9nement supprim\xe9");else throw Error(t.error)}catch(e){m(e instanceof Error?e.message:"Erreur suppression \xe9v\xe9nement")}},[]),D=(0,a.useCallback)(async()=>{await p()},[p]);return(0,a.useEffect)(()=>{p()},[p]),(0,a.useEffect)(()=>{if(s&&!g){let e=setTimeout(()=>{k()},5e3);return()=>clearTimeout(e)}},[s,g,k]),{assignments:r,events:o,loading:i,syncing:g,isOnline:s,lastSync:c,error:h,createAssignment:y,updateAssignment:x,deleteAssignment:w,createEvent:L,updateEvent:f,deleteEvent:v,syncNow:k,refreshData:D}}},9074:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}}]);