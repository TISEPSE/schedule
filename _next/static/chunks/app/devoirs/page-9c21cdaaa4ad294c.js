(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},3109:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7872:(e,t,s)=>{Promise.resolve().then(s.bind(s,7873))},7873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(5155),a=s(9576),l=s(5695),i=s(9824),n=s(2115),d=s(8061),o=s(646),c=s(5339),x=s(3109),u=s(4616),m=s(6785),h=s(6932),p=s(9946);let g=(0,p.A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);var b=s(9074);let j=(0,p.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var v=s(2525),f=s(7709),y=s(5040),N=s(4416),w=s(7434);let D=(0,p.A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),A=["Math\xe9matiques","Physique-Chimie","SVT","Sciences","Fran\xe7ais","Anglais","Espagnol","Allemand","Histoire-G\xe9ographie","Histoire","G\xe9ographie","Philosophie","EPS","Arts plastiques","Musique","Technologie","\xc9conomie","Informatique"],k=[{value:"low",label:"Faible",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:"\uD83D\uDFE2"},{value:"medium",label:"Normale",color:"bg-amber-100 text-amber-700 border-amber-200",icon:"\uD83D\uDFE1"},{value:"high",label:"Urgente",color:"bg-red-100 text-red-700 border-red-200",icon:"\uD83D\uDD34"}];function M(e){let{isOpen:t,onClose:s,onSubmit:a}=e,[l,i]=(0,n.useState)({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),[d,o]=(0,n.useState)(!1),[c,x]=(0,n.useState)({}),u=async e=>{if(e.preventDefault(),(()=>{let e={};if(l.title.trim()||(e.title="Le titre est requis"),l.subject||(e.subject="La mati\xe8re est requise"),l.dueDate){let t=new Date(l.dueDate+"T23:59:59"),s=new Date;s.setHours(0,0,0,0),t<s&&(e.dueDate="L'\xe9ch\xe9ance ne peut pas \xeatre dans le pass\xe9")}else e.dueDate="L'\xe9ch\xe9ance est requise";return x(e),0===Object.keys(e).length})()&&!d){o(!0);try{let e=new Date(l.dueDate+"T23:59:59");await a({...l,dueDate:e}),i({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),x({}),s()}catch(e){console.error("Erreur lors de la cr\xe9ation du devoir:",e)}finally{o(!1)}}},m=()=>{i({title:"",description:"",subject:"",dueDate:"",priority:"medium"}),x({}),s()};return t?(0,r.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/20 flex items-center justify-center z-50 p-4",onClick:m,children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-2xl shadow-2xl border border-gray-100 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/5"}),(0,r.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:(0,r.jsx)(y.A,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Cr\xe9er un devoir"}),(0,r.jsx)("p",{className:"text-white/80 text-sm",children:"Ajoutez un nouveau travail \xe0 faire"})]})]}),(0,r.jsx)("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:(0,r.jsx)(N.A,{className:"h-5 w-5"})})]}),(0,r.jsx)("div",{className:"absolute -bottom-6 -right-6 w-20 h-20 bg-white/10 rounded-full"}),(0,r.jsx)("div",{className:"absolute -top-3 -left-3 w-16 h-16 bg-white/5 rounded-full"})]}),(0,r.jsxs)("form",{onSubmit:u,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-900 mb-3",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-blue-500"}),(0,r.jsx)("span",{children:"Titre du devoir *"})]}),(0,r.jsx)("input",{type:"text",value:l.title,onChange:e=>i({...l,title:e.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 text-gray-500 ".concat(c.title?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"),placeholder:"Ex: Exercices de math\xe9matiques chapitre 5"}),c.title&&(0,r.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"⚠️"}),(0,r.jsx)("span",{children:c.title})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-900 mb-3",children:[(0,r.jsx)(y.A,{className:"h-4 w-4 text-purple-500"}),(0,r.jsx)("span",{children:"Mati\xe8re *"})]}),(0,r.jsxs)("select",{value:l.subject,onChange:e=>i({...l,subject:e.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 transition-all duration-200 text-gray-900 ".concat(c.subject?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Choisir une mati\xe8re"}),A.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),c.subject&&(0,r.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"⚠️"}),(0,r.jsx)("span",{children:c.subject})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-900 mb-3",children:[(0,r.jsx)(D,{className:"h-4 w-4 text-orange-500"}),(0,r.jsx)("span",{children:"Priorit\xe9"})]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:k.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>i({...l,priority:e.value}),className:"p-3 border-2 rounded-xl text-xs font-semibold transition-all duration-200 ".concat(l.priority===e.value?e.color+" scale-105":"border-gray-200 text-gray-600 hover:border-gray-300"),children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,r.jsx)("span",{className:"text-lg",children:e.icon}),(0,r.jsx)("span",{children:e.label})]})},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-900 mb-3",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{children:"Date d'\xe9ch\xe9ance *"})]}),(0,r.jsx)("input",{type:"date",value:l.dueDate.split("T")[0],onChange:e=>i({...l,dueDate:e.target.value}),className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-200 text-gray-500 ".concat(c.dueDate?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"),min:new Date().toISOString().slice(0,10)}),c.dueDate&&(0,r.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"⚠️"}),(0,r.jsx)("span",{children:c.dueDate})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-semibold text-gray-900 mb-3",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-indigo-500"}),(0,r.jsx)("span",{children:"Description (optionnel)"})]}),(0,r.jsx)("textarea",{value:l.description,onChange:e=>i({...l,description:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 hover:border-gray-300 transition-all duration-200 resize-none text-gray-500",placeholder:"D\xe9crivez les d\xe9tails du devoir, les consignes particuli\xe8res...",rows:4})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-100",children:[(0,r.jsx)("button",{type:"button",onClick:m,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-semibold transition-colors rounded-xl hover:bg-gray-50",disabled:d,children:"Annuler"}),(0,r.jsx)("button",{type:"submit",disabled:d||!l.title||!l.subject||!l.dueDate,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,r.jsx)("span",{children:"Cr\xe9ation..."})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{children:"Ajouter"})})})]})]})]})}):null}function C(){let{user:e,logout:t}=(0,a.A)(),s=(null==e?void 0:e.role)==="personal"?"Mes T\xe2ches":"Mes Devoirs",p=(null==e?void 0:e.role)==="personal"?"Organisez et suivez vos t\xe2ches personnelles et projets":"Organisez vos devoirs et suivez votre progression",y=(null==e?void 0:e.role)==="personal"?"Nouvelle t\xe2che":"Nouveau devoir",{assignments:N,updateAssignment:w,createAssignment:D}=(0,d.K)((null==e?void 0:e.id)||""),[A,k]=(0,n.useState)(!1),[C,T]=(0,n.useState)([]),[S,E]=(0,n.useState)(new Map),[z,q]=(0,n.useState)("all"),[L,P]=(0,n.useState)("dueDate");if((0,n.useEffect)(()=>{T(N.map(e=>{let t=S.get(e.id);return t||e}))},[N,S]),(0,n.useEffect)(()=>{if(S.size>0){let e=setTimeout(async()=>{let e=new Map(S);E(new Map);try{await Promise.all(Array.from(e.values()).map(e=>w(e).catch(t=>console.error("Erreur sync:",e.id,t))))}catch(t){console.error("Erreur lors de la synchronisation:",t),E(t=>new Map([...t,...e]))}},1e3);return()=>clearTimeout(e)}},[S,w]),e||(0,l.redirect)("/"),"admin"===e.role)return(0,r.jsx)(i.A,{user:e,onLogout:t,children:(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"G\xe9rez les devoirs de tous les \xe9tudiants et cr\xe9ez de nouvelles t\xe2ches."}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Fonctionnalit\xe9s pr\xe9vues : attribution de devoirs, suivi des rendus, \xe9valuations..."})]})]})})});let F=C.filter(e=>{switch(z){case"pending":return!e.completed&&H(e.dueDate)>=0;case"completed":return e.completed;case"overdue":return!e.completed&&0>H(e.dueDate);default:return!0}}).sort((e,t)=>{switch(L){case"dueDate":return new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime();case"priority":let s={high:3,medium:2,low:1};return s[t.priority]-s[e.priority];case"subject":return e.subject.localeCompare(t.subject);default:return 0}}),O=async e=>{await D({title:e.title,description:e.description,subject:e.subject,dueDate:e.dueDate,priority:e.priority,completed:!1})},_=async e=>{window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce devoir ?")&&console.log("Suppression du devoir:",e)},H=e=>{let t=new Date;return Math.ceil((e.getTime()-t.getTime())/864e5)};return(0,r.jsx)(i.A,{user:e,onLogout:t,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s}),(0,r.jsx)("p",{className:"text-gray-600",children:p})]}),(0,r.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:y})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.length}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Total des t\xe2ches"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"h-6 w-6 text-blue-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.filter(e=>e.completed).length}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Termin\xe9es"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)(o.A,{className:"h-6 w-6 text-green-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.filter(e=>!e.completed&&H(e.dueDate)>=0).length}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"En cours"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)(x.A,{className:"h-6 w-6 text-blue-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.filter(e=>!e.completed&&0>H(e.dueDate)).length}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"En retard"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"h-6 w-6 text-red-600"})})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-gray-500"}),(0,r.jsxs)("select",{value:z,onChange:e=>q(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"Toutes les t\xe2ches"}),(0,r.jsx)("option",{value:"pending",children:"En cours"}),(0,r.jsx)("option",{value:"completed",children:"Termin\xe9es"}),(0,r.jsx)("option",{value:"overdue",children:"En retard"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g,{className:"h-4 w-4 text-gray-500"}),(0,r.jsxs)("select",{value:L,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"dueDate",children:"Trier par \xe9ch\xe9ance"}),(0,r.jsx)("option",{value:"priority",children:"Trier par priorit\xe9"}),(0,r.jsx)("option",{value:"subject",children:"Trier par mati\xe8re"})]})]})]}),(0,r.jsx)("div",{className:"".concat(0===F.length?"text-center py-12":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"),children:0===F.length?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(m.A,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Aucune t\xe2che trouv\xe9e"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Essayez de modifier vos filtres ou cr\xe9ez une nouvelle t\xe2che"})]}):F.map(e=>{let t=0>H(e.dueDate),s=(0,f.$f)(e.subject);return(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-200 group ".concat(e.completed?"border-l-4 border-l-green-500":t?"border-l-4 border-l-red-500":"border-l-4 border-l-blue-500"),children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,r.jsx)("button",{onClick:()=>(e=>{let t=C.find(t=>t.id===e);if(!t)return;let s={...t,completed:!t.completed};T(t=>t.map(t=>t.id===e?s:t)),E(t=>{let r=new Map(t);return r.set(e,s),r})})(e.id),className:"flex-shrink-0 mt-0.5 transition-all duration-200 hover:scale-105",children:e.completed?(0,r.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(o.A,{className:"h-4 w-4 text-white"})}):(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full hover:border-blue-500 transition-colors"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 ".concat(e.completed?"line-through text-gray-500":""),children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.backgroundLight," ").concat(s.text),children:e.subject}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"),children:"high"===e.priority?"Urgent":"medium"===e.priority?"Normal":"Faible"})]})]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 ".concat(e.completed?"text-gray-500":""),children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"".concat(t?"text-red-600":"text-gray-600"),children:(e=>{let t=new Date,s=new Date(t);if(s.setDate(s.getDate()+1),e.toDateString()===t.toDateString())return"Aujourd'hui";{if(e.toDateString()===s.toDateString())return"Demain";let r=Math.ceil((e.getTime()-t.getTime())/864e5);return r>0&&r<=7?"Dans ".concat(r," jours"):r<0?"En retard de ".concat(Math.abs(r)," jours"):e.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}})(e.dueDate)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{if(e.completed)return(0,r.jsx)(o.A,{className:"h-5 w-5 text-green-500"});let t=H(e.dueDate);return t<0?(0,r.jsx)(c.A,{className:"h-5 w-5 text-red-500"}):t<=1?(0,r.jsx)(c.A,{className:"h-5 w-5 text-orange-500"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-blue-500"})})(e),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(e.completed?"text-green-600":t?"text-red-600":"text-blue-600"),children:(e=>{if(e.completed)return"Termin\xe9e";let t=H(e.dueDate);return t<0?"En retard":t<=1?"Urgent":"En cours"})(e)})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,r.jsx)("span",{children:"Progression"}),(0,r.jsx)("span",{className:"font-medium",children:e.completed?"100%":"0%"})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e.completed?"bg-green-500":t?"bg-red-500":"bg-blue-500"),style:{width:e.completed?"100%":"0%"}})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-gray-100",children:[(0,r.jsx)("button",{onClick:()=>{console.log("\xc9dition du devoir:",e.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,r.jsx)(j,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>_(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})]})]},e.id)})})]}),(0,r.jsx)(M,{isOpen:A,onClose:()=>k(!1),onSubmit:O})]})})}}},e=>{e.O(0,[393,824,131,441,964,358],()=>e(e.s=7872)),_N_E=e.O()}]);