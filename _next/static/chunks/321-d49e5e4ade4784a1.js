"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{2525:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},3109:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},3321:(e,t,r)=>{r.d(t,{A:()=>J});var s=r(5155),a=r(7580),i=r(9074),l=r(5040),n=r(9946);let o=(0,n.A)("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);var c=r(4186),d=r(3109);let m=(0,n.A)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var g=r(6785);function h(e){let{title:t,value:r,icon:a,color:i,trend:l}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-lg hover:scale-[1.02] transition-all duration-300 ease-out cursor-pointer group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-gray-600 text-base font-medium mb-1 transition-colors group-hover:text-gray-700",children:t}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1 transition-colors group-hover:text-gray-800",children:r}),(0,s.jsx)("p",{className:"text-sm text-gray-500 transition-colors group-hover:text-gray-600",children:l})]}),(0,s.jsx)("div",{className:"".concat(i," p-3 rounded-lg transition-transform duration-300 ease-out group-hover:scale-110 group-hover:rotate-3"),children:(0,s.jsx)(a,{className:"h-6 w-6 text-white transition-transform duration-300 ease-out"})})]})})}var u=r(381),x=r(4616),b=r(6874),p=r.n(b);let y=[{title:"Gestion utilisateurs",description:"Mod\xe9rer les comptes",icon:a.A,href:"/classes",color:"bg-blue-50 hover:bg-blue-100 text-blue-700"},{title:"Configuration",description:"Param\xe8tres syst\xe8me",icon:u.A,href:"/settings",color:"bg-purple-50 hover:bg-purple-100 text-purple-700"}],j=[{title:"Planifier un \xe9v\xe9nement",description:"Ajouter \xe0 mon emploi du temps",icon:x.A,href:"/calendar",color:"bg-blue-50 hover:bg-blue-100 text-blue-700"},{title:"Mes devoirs",description:"Voir mes t\xe2ches \xe0 faire",icon:i.A,href:"/devoirs",color:"bg-green-50 hover:bg-green-100 text-green-700"},{title:"Ma classe",description:"Voir ma classe et mes camarades",icon:a.A,href:"/classes",color:"bg-purple-50 hover:bg-purple-100 text-purple-700"},{title:"Mon profil",description:"Modifier mes informations",icon:u.A,href:"/profile",color:"bg-orange-50 hover:bg-orange-100 text-orange-700"}],v=[{title:"Nouvelle t\xe2che",description:"Ajouter une t\xe2che \xe0 faire",icon:x.A,href:"/devoirs",color:"bg-blue-50 hover:bg-blue-100 text-blue-700"},{title:"Nouvelle note",description:"Cr\xe9er une note markdown",icon:l.A,href:"/notes",color:"bg-green-50 hover:bg-green-100 text-green-700"},{title:"Projets",description:"Suivre mes projets",icon:g.A,href:"/projects",color:"bg-purple-50 hover:bg-purple-100 text-purple-700"}];function f(e){let{userRole:t}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 h-fit",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Actions rapides"}),(0,s.jsx)("div",{className:"space-y-4",children:("admin"===t?y:"personal"===t?v:j).map((e,t)=>{let r=e.icon;return(0,s.jsx)(p(),{href:e.href,className:"".concat(e.color," p-4 rounded-lg transition-colors group block"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(r,{className:"h-5 w-5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"text-base font-medium truncate",children:e.title}),(0,s.jsx)("p",{className:"text-sm opacity-75 truncate",children:e.description})]})]})},t)})})]})}var N=r(4516),w=r(7709);function k(e){let{userRole:t,events:r}=e;if(!r){let e=[{title:"Math\xe9matiques",time:"08:00",location:"Salle A12",date:"Demain",color:(0,w.Fg)("course").borderLight,type:"course"},{title:"Informatique",time:"14:00",location:"Lab B3",date:"Mercredi",color:(0,w.Fg)("practical").borderLight,type:"practical"},{title:"Contr\xf4le Fran\xe7ais",time:"10:00",location:"Amphi C",date:"Vendredi",color:(0,w.Fg)("exam").borderLight,type:"exam"}];return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"admin"===t?"Prochains \xe9v\xe9nements":"Mes cours"}),(0,s.jsx)(i.A,{className:"h-4 w-4 text-gray-400"})]}),(0,s.jsx)("div",{className:"space-y-3",children:("admin"===t?[{title:"Maintenance serveur",time:"14:00",location:"\xc0 distance",date:"Aujourd'hui",color:"border-l-blue-500"},{title:"R\xe9union \xe9quipe",time:"16:30",location:"Visio",date:"Demain",color:"border-l-green-500"},{title:"Formation s\xe9curit\xe9",time:"10:00",location:"Salle de conf",date:"Vendredi",color:"border-l-orange-500"}]:e).map((e,t)=>(0,s.jsx)("div",{className:"border-l-4 ".concat(e.color," pl-3 py-2.5"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)(N.A,{className:"h-3 w-3 text-gray-400 mr-1"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.location})]})]}),(0,s.jsxs)("div",{className:"text-right ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(c.A,{className:"h-3 w-3 mr-1"}),e.time]}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:e.date})]})]})},t))}),(0,s.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,s.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Voir tout →"})})]})}let a=r.filter(e=>e.startTime>new Date).sort((e,t)=>e.startTime.getTime()-t.startTime.getTime()).slice(0,3);return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"admin"===t?"Prochains \xe9v\xe9nements":"Mes cours"}),(0,s.jsx)(i.A,{className:"h-4 w-4 text-gray-400"})]}),(0,s.jsx)("div",{className:"space-y-3",children:a.length>0?a.map(e=>{let t,{date:r,time:a}=(e=>{let t=new Date,r=Math.ceil((e.getTime()-t.getTime())/864e5);return{date:0===r?"Aujourd'hui":1===r?"Demain":r<7?"Dans ".concat(r," jours"):e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}})(e.startTime);return(0,s.jsx)("div",{className:"border-l-4 ".concat((t=e.type,(0,w.Fg)(t).borderLight)," pl-3 py-2.5"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900",children:e.title}),e.location&&(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)(N.A,{className:"h-3 w-3 text-gray-400 mr-1"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.location})]})]}),(0,s.jsxs)("div",{className:"text-right ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(c.A,{className:"h-3 w-3 mr-1"}),a]}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:r})]})]})},e.id)}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(i.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"admin"===t?"Aucun \xe9v\xe9nement pr\xe9vu":"Aucun cours \xe0 venir"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Utilisez le panel de test pour ajouter des donn\xe9es"})]})}),a.length>0&&(0,s.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,s.jsxs)("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:["Voir tout (",r.filter(e=>e.startTime>new Date).length,") →"]})})]})}var A=r(1007);function L(e){let{events:t}=e,r=new Date,a=null;return t&&t.length>0&&(a=t.filter(e=>e.startTime>r).sort((e,t)=>e.startTime.getTime()-t.startTime.getTime())[0]),a||(a={title:"Math\xe9matiques",location:"Salle 105",description:"Mme Dubois",startTime:new Date(r.getTime()+72e5),endTime:new Date(r.getTime()+108e5),type:"course"}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Prochain cours"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-green-600 bg-green-50 px-2 py-1 rounded",children:[(0,s.jsx)(c.A,{className:"h-3 w-3 mr-1"}),(e=>{let t=e.getTime()-r.getTime(),s=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4);return s>0?"Dans ".concat(s,"h").concat(a>0?" ".concat(a,"min"):""):a>0?"Dans ".concat(a,"min"):"Bient\xf4t"})(a.startTime)]})]}),(0,s.jsxs)("div",{className:"".concat((e=>{switch(e){case"course":return"bg-blue-500";case"exam":return"bg-red-500";case"practical":return"bg-green-500";case"project":return"bg-purple-500";case"sport":return"bg-orange-500";case"study":return"bg-yellow-500";default:return"bg-gray-500"}})(a.type)," rounded-lg p-3 text-white mb-3"),children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"font-medium text-base",children:a.title})]}),(0,s.jsx)("div",{className:"text-base opacity-90",children:((e,t)=>{let r=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(r," - ").concat(s)})(a.startTime,a.endTime)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[a.location&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(N.A,{className:"h-3 w-3 mr-2"}),a.location]}),a.description&&(0,s.jsxs)("div",{className:"flex items-start text-sm text-gray-600",children:[(0,s.jsx)(A.A,{className:"h-3 w-3 mr-2 mt-0.5"}),(0,s.jsx)("span",{children:a.description})]})]})]})}var D=r(7434);let T=(0,n.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function M(e){let{userRole:t,assignments:r}=e;if(!r){let e=[{title:"R\xe9visions Fran\xe7ais",subject:"Personnel",dueDate:"Demain",priority:"high",color:(0,w.Ho)("high").borderLight},{title:"Projet de groupe",subject:"Collaboration",dueDate:"Vendredi",priority:"medium",color:(0,w.Ho)("medium").borderLight},{title:"Lecture chapitre 5",subject:"Personnel",dueDate:"Lundi prochain",priority:"low",color:(0,w.Ho)("low").borderLight}],r=[{title:"Mod\xe9ration utilisateurs",subject:"Administration",dueDate:"Aujourd'hui",priority:"high",color:(0,w.Ho)("high").borderLight},{title:"Mise \xe0 jour syst\xe8me",subject:"Technique",dueDate:"Cette semaine",priority:"medium",color:(0,w.Ho)("medium").borderLight},{title:"Rapport d'activit\xe9",subject:"Administratif",dueDate:"Fin du mois",priority:"low",color:(0,w.Ho)("low").borderLight}];return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"admin"===t?"T\xe2ches admin":"\xc0 faire"}),(0,s.jsx)(D.A,{className:"h-4 w-4 text-gray-400"})]}),(0,s.jsx)("div",{className:"space-y-3",children:("admin"===t?r:e).map((e,t)=>(0,s.jsx)("div",{className:"border-l-4 ".concat(e.color," pl-3 py-2.5"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:e.subject})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:["high"===e.priority&&(0,s.jsx)(T,{className:"h-3 w-3 text-red-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:e.dueDate})]})]})},t))}),(0,s.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,s.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Voir tout →"})})]})}let a=r.filter(e=>!e.completed).slice(0,3);return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"admin"===t?"T\xe2ches admin":"\xc0 faire"}),(0,s.jsx)(D.A,{className:"h-4 w-4 text-gray-400"})]}),(0,s.jsx)("div",{className:"space-y-3",children:a.length>0?a.map(e=>{let t;return(0,s.jsx)("div",{className:"border-l-4 ".concat((t=e.priority,(0,w.Ho)(t).borderLight)," pl-3 py-2.5"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:e.subject})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:["high"===e.priority&&(0,s.jsx)(T,{className:"h-3 w-3 text-red-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:(e=>{let t=new Date,r=Math.ceil((e.getTime()-t.getTime())/864e5);return 0===r?"Aujourd'hui":1===r?"Demain":r<7?"Dans ".concat(r," jours"):e.toLocaleDateString()})(e.dueDate)})]})]})},e.id)}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(D.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"admin"===t?"Aucune t\xe2che urgente":"Aucun devoir en cours"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Utilisez le panel de test pour ajouter des donn\xe9es"})]})}),a.length>0&&(0,s.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,s.jsxs)("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:["Voir tout (",r.filter(e=>!e.completed).length,") →"]})})]})}var S=r(2115),C=r(8061),E=r(4213);let P=(0,n.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),V=(0,n.A)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),H=(0,n.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),O=(0,n.A)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),q=(0,n.A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var z=r(2525);function F(e){let{userId:t}=e,{assignments:r,events:a,syncing:n,isOnline:o,lastSync:c,error:d,createAssignment:m,createEvent:g,deleteAssignment:h,deleteEvent:u,syncNow:b,refreshData:p}=(0,C.K)(t),[y,j]=(0,S.useState)(!1),v=async()=>{let e=["Math\xe9matiques","Fran\xe7ais","Histoire","Anglais","Sciences"],t=["homework","essay","research","reading"];await m({title:"Test Devoir ".concat(Date.now()),description:"Devoir cr\xe9\xe9 pour tester la synchronisation",subject:e[Math.floor(Math.random()*e.length)],type:t[Math.floor(Math.random()*t.length)],dueDate:new Date(Date.now()+7*Math.random()*864e5),priority:"medium"})},f=async()=>{let e=["course","practical","exam","study"];await g({title:"Test \xc9v\xe9nement ".concat(Date.now()),description:"\xc9v\xe9nement cr\xe9\xe9 pour tester la synchronisation",type:e[Math.floor(Math.random()*e.length)],startTime:new Date(Date.now()+7*Math.random()*864e5),endTime:new Date(Date.now()+7*Math.random()*864e5+72e5),location:"Salle Test"})};return y?(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 w-96 bg-white border rounded-xl shadow-xl z-50 max-h-96 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-xl",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(E.A,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("span",{className:"font-semibold",children:"Test Sync Neon"})]}),(0,s.jsx)("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,s.jsxs)("div",{className:"p-4 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{className:"text-sm text-green-600",children:"En ligne"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V,{className:"h-4 w-4 text-red-500"}),(0,s.jsx)("span",{className:"text-sm text-red-600",children:"Hors ligne"})]})}),(0,s.jsxs)("button",{onClick:b,disabled:n,className:"flex items-center space-x-1 text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 disabled:opacity-50",children:[(0,s.jsx)(H,{className:"h-3 w-3 ".concat(n?"animate-spin":"")}),(0,s.jsx)("span",{children:n?"Sync...":"Sync"})]})]}),c&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Derni\xe8re sync: ",c.toLocaleTimeString()]}),d&&(0,s.jsxs)("div",{className:"text-xs text-red-500 mt-1",children:["❌ ",d]})]}),(0,s.jsxs)("div",{className:"p-4 border-b",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Actions de test"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("button",{onClick:v,className:"flex items-center justify-center space-x-1 text-sm bg-green-100 text-green-700 p-2 rounded hover:bg-green-200",children:[(0,s.jsx)(x.A,{className:"h-3 w-3"}),(0,s.jsx)(l.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Devoir"})]}),(0,s.jsxs)("button",{onClick:f,className:"flex items-center justify-center space-x-1 text-sm bg-purple-100 text-purple-700 p-2 rounded hover:bg-purple-200",children:[(0,s.jsx)(x.A,{className:"h-3 w-3"}),(0,s.jsx)(i.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"\xc9v\xe9nement"})]}),(0,s.jsxs)("button",{onClick:p,className:"flex items-center justify-center space-x-1 text-sm bg-yellow-100 text-yellow-700 p-2 rounded hover:bg-yellow-200 col-span-2",children:[(0,s.jsx)(E.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Rafra\xeechir les donn\xe9es"})]})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,s.jsx)(O,{className:"h-4 w-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Local"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[r.length," devoirs",(0,s.jsx)("br",{}),a.length," \xe9v\xe9nements"]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,s.jsx)(q,{className:"h-4 w-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Neon"})]}),(0,s.jsxs)("div",{className:"text-xs text-blue-600",children:["Mock DB",(0,s.jsx)("br",{}),"Pr\xeat \xe0 sync"]})]})]}),(r.length>0||a.length>0)&&(0,s.jsxs)("div",{className:"max-h-32 overflow-y-auto",children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"\xc9l\xe9ments r\xe9cents:"}),r.slice(-2).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs py-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(l.A,{className:"h-3 w-3 text-green-600"}),(0,s.jsx)("span",{className:"truncate max-w-32",children:e.title})]}),(0,s.jsx)("button",{onClick:()=>h(e.id),className:"text-red-400 hover:text-red-600",children:(0,s.jsx)(z.A,{className:"h-3 w-3"})})]},e.id)),a.slice(-2).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs py-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(i.A,{className:"h-3 w-3 text-purple-600"}),(0,s.jsx)("span",{className:"truncate max-w-32",children:e.title})]}),(0,s.jsx)("button",{onClick:()=>u(e.id),className:"text-red-400 hover:text-red-600",children:(0,s.jsx)(z.A,{className:"h-3 w-3"})})]},e.id))]})]})]}):(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,s.jsx)("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors",title:"Ouvrir le panel de test des donn\xe9es",children:(0,s.jsx)(E.A,{className:"h-5 w-5"})})})}let R={totalStudents:1245,totalTeachers:87,totalClasses:32,totalSubjects:15},I=[{title:"Utilisateurs actifs",value:R.totalStudents.toLocaleString(),icon:a.A,color:"bg-blue-500",trend:"+12%"},{title:"Plannings cr\xe9\xe9s",value:R.totalTeachers.toString(),icon:i.A,color:"bg-green-500",trend:"+3%"},{title:"Groupes",value:R.totalClasses.toString(),icon:l.A,color:"bg-purple-500",trend:"+5%"},{title:"Activit\xe9s",value:R.totalSubjects.toString(),icon:o,color:"bg-orange-500",trend:"Stable"}],U=[{title:"Aujourd'hui",value:"6",icon:i.A,color:"bg-blue-500",trend:"activit\xe9s"},{title:"Cette semaine",value:"32h",icon:c.A,color:"bg-green-500",trend:"planifi\xe9es"},{title:"Mes mati\xe8res",value:"8",icon:l.A,color:"bg-purple-500",trend:"actives"},{title:"Objectifs",value:"3/5",icon:d.A,color:"bg-orange-500",trend:"compl\xe9t\xe9s"}],G=[{title:"T\xe2ches du jour",value:"4",icon:m,color:"bg-blue-500",trend:"en cours"},{title:"Temps travaill\xe9",value:"6h 30m",icon:c.A,color:"bg-green-500",trend:"aujourd'hui"},{title:"Projets actifs",value:"3",icon:l.A,color:"bg-purple-500",trend:"en cours"},{title:"Objectifs",value:"2/5",icon:g.A,color:"bg-orange-500",trend:"atteints"}];function J(e){let{user:t}=e,{assignments:r,events:a}=(0,C.K)(t.id),n="4"===t.id||"test@app.com"===t.email,o=[{title:"Aujourd'hui",value:"0",icon:i.A,color:"bg-blue-500",trend:"activit\xe9s"},{title:"Cette semaine",value:"0h",icon:c.A,color:"bg-green-500",trend:"planifi\xe9es"},{title:"Mes mati\xe8res",value:"0",icon:l.A,color:"bg-purple-500",trend:"actives"},{title:"Objectifs",value:"0/0",icon:d.A,color:"bg-orange-500",trend:"compl\xe9t\xe9s"}],m=n?o:"admin"===t.role?I:"personal"===t.role?G:U;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 page-animate-delay-1",children:m.map((e,t)=>(0,s.jsx)(h,{...e},t))}),"student"===t.role?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 page-animate-delay-2",children:[(0,s.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[(0,s.jsx)(L,{events:n?a:void 0}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(k,{userRole:t.role,events:n?a:void 0}),(0,s.jsx)(M,{userRole:t.role,assignments:n?r:void 0})]})]}),(0,s.jsx)("div",{className:"lg:col-span-4 space-y-4",children:(0,s.jsx)(f,{userRole:t.role})})]}):"personal"===t.role?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 page-animate-delay-2",children:[(0,s.jsx)("div",{className:"lg:col-span-8 space-y-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(M,{userRole:t.role,assignments:n?r:void 0}),(0,s.jsx)(k,{userRole:t.role,events:n?a:void 0})]})}),(0,s.jsx)("div",{className:"lg:col-span-4 space-y-4",children:(0,s.jsx)(f,{userRole:t.role})})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 page-animate-delay-2",children:[(0,s.jsx)("div",{className:"lg:col-span-8 space-y-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(k,{userRole:t.role,events:n?a:void 0}),(0,s.jsx)(M,{userRole:t.role,assignments:n?r:void 0})]})}),(0,s.jsx)("div",{className:"lg:col-span-4 space-y-4",children:(0,s.jsx)(f,{userRole:t.role})})]}),(0,s.jsx)(F,{userId:t.id})]})}},4186:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},4213:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4516:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4616:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7709:(e,t,r)=>{r.d(t,{$f:()=>o,Fg:()=>l,Ho:()=>n,O6:()=>c,XA:()=>d});let s={course:{background:"bg-blue-700",backgroundLight:"bg-blue-200",border:"border-l-blue-700",borderLight:"border-l-blue-500",text:"text-blue-700",ring:"ring-blue-500"},practical:{background:"bg-emerald-700",backgroundLight:"bg-emerald-200",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"},exam:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},project:{background:"bg-teal-700",backgroundLight:"bg-teal-200",border:"border-l-teal-700",borderLight:"border-l-teal-500",text:"text-teal-700",ring:"ring-teal-500"},sport:{background:"bg-indigo-700",backgroundLight:"bg-indigo-200",border:"border-l-indigo-700",borderLight:"border-l-indigo-500",text:"text-indigo-700",ring:"ring-indigo-500"},study:{background:"bg-purple-700",backgroundLight:"bg-purple-200",border:"border-l-purple-700",borderLight:"border-l-purple-500",text:"text-purple-700",ring:"ring-purple-500"}},a={high:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},medium:{background:"bg-orange-600",backgroundLight:"bg-orange-100",border:"border-l-orange-600",borderLight:"border-l-orange-400",text:"text-orange-600",ring:"ring-orange-400"},low:{background:"bg-emerald-700",backgroundLight:"bg-emerald-200",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"}},i={Mathématiques:{background:"bg-blue-700",backgroundLight:"bg-blue-100",border:"border-l-blue-700",borderLight:"border-l-blue-500",text:"text-blue-700",ring:"ring-blue-500"},"Physique-Chimie":{background:"bg-indigo-700",backgroundLight:"bg-indigo-100",border:"border-l-indigo-700",borderLight:"border-l-indigo-500",text:"text-indigo-700",ring:"ring-indigo-500"},SVT:{background:"bg-emerald-700",backgroundLight:"bg-emerald-100",border:"border-l-emerald-700",borderLight:"border-l-emerald-500",text:"text-emerald-700",ring:"ring-emerald-500"},Sciences:{background:"bg-teal-700",backgroundLight:"bg-teal-100",border:"border-l-teal-700",borderLight:"border-l-teal-500",text:"text-teal-700",ring:"ring-teal-500"},Français:{background:"bg-purple-700",backgroundLight:"bg-purple-100",border:"border-l-purple-700",borderLight:"border-l-purple-500",text:"text-purple-700",ring:"ring-purple-500"},Anglais:{background:"bg-rose-600",backgroundLight:"bg-rose-100",border:"border-l-rose-600",borderLight:"border-l-rose-400",text:"text-rose-600",ring:"ring-rose-400"},Espagnol:{background:"bg-red-600",backgroundLight:"bg-red-100",border:"border-l-red-600",borderLight:"border-l-red-400",text:"text-red-600",ring:"ring-red-400"},Allemand:{background:"bg-slate-700",backgroundLight:"bg-slate-100",border:"border-l-slate-700",borderLight:"border-l-slate-500",text:"text-slate-700",ring:"ring-slate-500"},"Histoire-G\xe9ographie":{background:"bg-amber-700",backgroundLight:"bg-amber-100",border:"border-l-amber-700",borderLight:"border-l-amber-500",text:"text-amber-700",ring:"ring-amber-500"},Histoire:{background:"bg-yellow-700",backgroundLight:"bg-yellow-100",border:"border-l-yellow-700",borderLight:"border-l-yellow-500",text:"text-yellow-700",ring:"ring-yellow-500"},Géographie:{background:"bg-lime-700",backgroundLight:"bg-lime-100",border:"border-l-lime-700",borderLight:"border-l-lime-500",text:"text-lime-700",ring:"ring-lime-500"},Philosophie:{background:"bg-violet-700",backgroundLight:"bg-violet-100",border:"border-l-violet-700",borderLight:"border-l-violet-500",text:"text-violet-700",ring:"ring-violet-500"},EPS:{background:"bg-green-700",backgroundLight:"bg-green-100",border:"border-l-green-700",borderLight:"border-l-green-500",text:"text-green-700",ring:"ring-green-500"},"Arts plastiques":{background:"bg-pink-600",backgroundLight:"bg-pink-100",border:"border-l-pink-600",borderLight:"border-l-pink-400",text:"text-pink-600",ring:"ring-pink-400"},Musique:{background:"bg-fuchsia-600",backgroundLight:"bg-fuchsia-100",border:"border-l-fuchsia-600",borderLight:"border-l-fuchsia-400",text:"text-fuchsia-600",ring:"ring-fuchsia-400"},Technologie:{background:"bg-gray-700",backgroundLight:"bg-gray-100",border:"border-l-gray-700",borderLight:"border-l-gray-500",text:"text-gray-700",ring:"ring-gray-500"},Économie:{background:"bg-cyan-700",backgroundLight:"bg-cyan-100",border:"border-l-cyan-700",borderLight:"border-l-cyan-500",text:"text-cyan-700",ring:"ring-cyan-500"},Informatique:{background:"bg-sky-700",backgroundLight:"bg-sky-100",border:"border-l-sky-700",borderLight:"border-l-sky-500",text:"text-sky-700",ring:"ring-sky-500"}},l=e=>s[e]||s.course,n=e=>a[e]||a.medium,o=e=>i[e]||s.course,c=(e,t,r)=>"assignment"===e&&t?n(t):"exam"===e?l(e):("course"===e||"practical"===e)&&r?o(r):l(e),d=e=>l(e).background},8061:(e,t,r)=>{r.d(t,{K:()=>a});var s=r(2115);function a(e){let[t,r]=(0,s.useState)([]),[a,i]=(0,s.useState)([]),[l,n]=(0,s.useState)(!0),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!0),[g,h]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),b=(0,s.useCallback)(async()=>{if(e)try{n(!0),x(null);let[t,s]=await Promise.all([fetch("/api/events?userId=".concat(e)),fetch("/api/assignments?userId=".concat(e))]),a=await t.json(),l=await s.json();if(a.success){let e=a.events.map(e=>({...e,startTime:new Date(e.startTime),endTime:new Date(e.endTime),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));i(e)}if(l.success){let e=l.assignments.map(e=>({...e,dueDate:new Date(e.dueDate),createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));r(e)}m(!0)}catch(e){x(e instanceof Error?e.message:"Erreur lors du chargement des donn\xe9es"),m(!1)}finally{n(!1)}},[e]),p=(0,s.useCallback)(async()=>{if(!o)try{c(!0),x(null),await new Promise(e=>setTimeout(e,1e3)),h(new Date),m(!0),console.log("✅ Synchronisation simul\xe9e r\xe9ussie")}catch(e){x(e instanceof Error?e.message:"Erreur de synchronisation"),m(!1)}finally{c(!1)}},[o]),y=(0,s.useCallback)(async t=>{if(e)try{var s;let a=await fetch("/api/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,userId:e,dueDate:null==(s=t.dueDate)?void 0:s.toISOString()})}),i=await a.json();if(i.success){let e={...i.assignment,dueDate:new Date(i.assignment.dueDate),createdAt:new Date(i.assignment.createdAt),updatedAt:new Date(i.assignment.updatedAt)};r(t=>[...t,e]),console.log("\uD83D\uDCDD Nouveau devoir cr\xe9\xe9:",e.title)}else throw Error(i.error)}catch(e){x(e instanceof Error?e.message:"Erreur cr\xe9ation devoir")}},[e]),j=(0,s.useCallback)(async e=>{try{let t=await fetch("/api/assignments/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,dueDate:e.dueDate.toISOString()})}),s=await t.json();if(s.success){let t={...s.assignment,dueDate:new Date(s.assignment.dueDate),createdAt:new Date(s.assignment.createdAt),updatedAt:new Date(s.assignment.updatedAt)};r(r=>r.map(r=>r.id===e.id?t:r)),console.log("✏️ Devoir mis \xe0 jour:",e.title)}else throw Error(s.error)}catch(e){x(e instanceof Error?e.message:"Erreur mise \xe0 jour devoir")}},[]),v=(0,s.useCallback)(async e=>{try{let t=await fetch("/api/assignments/".concat(e),{method:"DELETE"}),s=await t.json();if(s.success)r(t=>t.filter(t=>t.id!==e)),console.log("\uD83D\uDDD1️ Devoir supprim\xe9");else throw Error(s.error)}catch(e){x(e instanceof Error?e.message:"Erreur suppression devoir")}},[]),f=(0,s.useCallback)(async t=>{if(e)try{var r,s;let a=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,userId:e,startTime:null==(r=t.startTime)?void 0:r.toISOString(),endTime:null==(s=t.endTime)?void 0:s.toISOString()})}),l=await a.json();if(l.success){let e={...l.event,startTime:new Date(l.event.startTime),endTime:new Date(l.event.endTime),createdAt:new Date(l.event.createdAt),updatedAt:new Date(l.event.updatedAt)};i(t=>[...t,e]),console.log("\uD83D\uDCC5 Nouvel \xe9v\xe9nement cr\xe9\xe9:",e.title)}else throw Error(l.error)}catch(e){x(e instanceof Error?e.message:"Erreur cr\xe9ation \xe9v\xe9nement")}},[e]),N=(0,s.useCallback)(async e=>{try{let t=await fetch("/api/events/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,startTime:e.startTime.toISOString(),endTime:e.endTime.toISOString()})}),r=await t.json();if(r.success){let t={...r.event,startTime:new Date(r.event.startTime),endTime:new Date(r.event.endTime),createdAt:new Date(r.event.createdAt),updatedAt:new Date(r.event.updatedAt)};i(r=>r.map(r=>r.id===e.id?t:r)),console.log("\uD83D\uDCDD \xc9v\xe9nement mis \xe0 jour:",e.title)}else throw Error(r.error)}catch(e){x(e instanceof Error?e.message:"Erreur mise \xe0 jour \xe9v\xe9nement")}},[]),w=(0,s.useCallback)(async e=>{try{let t=await fetch("/api/events/".concat(e),{method:"DELETE"}),r=await t.json();if(r.success)i(t=>t.filter(t=>t.id!==e)),console.log("\uD83D\uDDD1️ \xc9v\xe9nement supprim\xe9");else throw Error(r.error)}catch(e){x(e instanceof Error?e.message:"Erreur suppression \xe9v\xe9nement")}},[]),k=(0,s.useCallback)(async()=>{await b()},[b]);return(0,s.useEffect)(()=>{b()},[b]),(0,s.useEffect)(()=>{if(d&&!o){let e=setTimeout(()=>{p()},5e3);return()=>clearTimeout(e)}},[d,o,p]),{assignments:t,events:a,loading:l,syncing:o,isOnline:d,lastSync:g,error:u,createAssignment:y,updateAssignment:j,deleteAssignment:v,createEvent:f,updateEvent:N,deleteEvent:w,syncNow:p,refreshData:k}}},9074:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}}]);